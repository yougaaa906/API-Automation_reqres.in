# -*- coding: utf-8 -*-
"""
Core configuration file for API automation testing
Unified management of multi-environment, request params, test accounts
Compatible with local/CI environment (ReqRes + JSONPlaceholder)
"""
import os

# Environment selection: CI env var > local default (test)
TEST_ENV = os.getenv("TEST_ENV", "test")

# Multi-environment Base URL configuration (two scenarios)
BASE_URLS = {
    "reqres": {
        "test": "https://reqres.in",
        "prod": "https://reqres.in"
    },
    "jsonplaceholder": {
        "test": "https://jsonplaceholder.typicode.com",
        "prod": "https://jsonplaceholder.typicode.com"
    }
}

# Quick access to Base URL for each scenario
REQRES_BASE_URL = BASE_URLS["reqres"][TEST_ENV]
JSONPLACEHOLDER_BASE_URL = BASE_URLS["jsonplaceholder"][TEST_ENV]

# Global request configuration
REQUEST_TIMEOUT = 15  # Seconds (CI network tolerance)
SSL_VERIFY = False    # Disable SSL verify for test APIs
COMMON_HEADERS = {
    "Content-Type": "application/json;charset=UTF-8",
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/121.0.0.0 Safari/537.36",
    "Accept": "application/json, text/plain, */*"
}

# ReqRes test account (official test credentials)
REQRES_TEST_USER = {
    "email": "eve.holt@reqres.in",
    "password": "cityslicka"
}
# CI mock token (avoid ReqRes POST API rate limit)
REQRES_MOCK_TOKEN = os.getenv("REQRES_MOCK_TOKEN", "mock_token_123456789")

# Test report configuration (output to public directory for GitHub Pages)
PUBLIC_DIR = "./public"
REPORT_PATH = os.getenv("REPORT_PATH", f"{PUBLIC_DIR}/test-report.html")
REPORT_ARGS = "--html={} --self-contained-html".format(REPORT_PATH)
